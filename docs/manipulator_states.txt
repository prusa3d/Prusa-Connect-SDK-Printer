@startuml

Device --> Phy
Device: Ethernet or WiFi device exists

Phy --> Lan
Phy:  Eth|Wifi device connected

Lan --> Internet
Lan: Device has assigned IP

Lan --> Local
Local: Messages on printer Web

Lan --> MovementIP
Lan --> PickerIP

Internet --> HTTP
Internet: DNS is working.
Internet: There is no problem communicating
Internet: to other hosts in the internet.

HTTP --> ConnectOk
HTTP: HTTP traffic to Connect is OK, no 5XX statuses

ConnectOk: There is no 4XX problems while communicating to Connect

ConnectOk --> Connect
Connect: Messages on Connect (with printer token)

MovementIP --> MovementConn
MovementIP: Movement device alive on IP

MovementConn --> MovementProto
MovementConn: TCP/UDP Connection with device is ok

MovementProto --> MovementOK
MovementProto: TCP/UDP communication with device protocol is OK.
MovementOK: Device is enabled

PickerIP --> PickerConn
PickerIP: Picker device alive on IP

PickerConn --> PickerProto
PickerConn: TCP/UDP Connection with device is ok

PickerProto --> PickerOK
PickerProto: TCP/UDP communication with device protocol is OK.
PickerOK: Device is enabled

note "Error output to: Connect and Printer Web" as ErrorOutput

state Internet #white
state HTTP #white

state "Connect OK" as ConnectOk #lightgreen
state "Movement OK" as MovementOK #lightgreen
state "Picker OK" as PickerOK #lightgreen

state "Printer Web" as Local #lightblue
state Connect #lightblue


@enduml
